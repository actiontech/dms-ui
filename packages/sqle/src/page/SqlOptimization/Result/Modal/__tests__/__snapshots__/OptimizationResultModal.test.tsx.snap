// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`sqle/SqlOptimization/Result/Modal/OptimizationResultModal should render modal when open with data 1`] = `
<body>
  <div />
  <div>
    <div
      class="ant-modal-root"
    >
      <div
        class="ant-modal-mask"
      />
      <div
        class="ant-modal-wrap dynamic-width-modal ant-modal-centered"
        tabindex="-1"
      >
        <div
          aria-labelledby="test-id"
          aria-modal="true"
          class="ant-modal basic-modal-wrapper css-1u3yuml ant-zoom-appear ant-zoom-appear-prepare ant-zoom"
          role="dialog"
          style="width: 960px;"
        >
          <div
            aria-hidden="true"
            style="width: 0px; height: 0px; overflow: hidden; outline: none;"
            tabindex="0"
          />
          <div
            class="ant-modal-content"
          >
            <button
              aria-label="Close"
              class="ant-modal-close"
              type="button"
            >
              <span
                class="ant-modal-close-x"
              >
                <svg
                  fill="currentColor"
                  height="16"
                  viewBox="0 0 14 14"
                  width="16"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="m7 6.175 2.887-2.887.825.825L7.825 7l2.887 2.888-.825.824L7 7.825l-2.888 2.887-.824-.824L6.175 7 3.288 4.113l.824-.825z"
                  />
                </svg>
              </span>
            </button>
            <div
              class="ant-modal-header"
            >
              <div
                class="ant-modal-title"
                id="test-id"
              >
                查看优化结果
              </div>
            </div>
            <div
              class="ant-modal-body"
            >
              <div
                class="css-4dmhag"
              >
                <div
                  class="rule-info"
                >
                  <h5
                    class="ant-typography"
                  >
                    外连接表消除
                  </h5>
                  <span
                    class="ant-typography ant-typography-secondary"
                  >
                    可以消除LEFT JOIN，从而优化查询性能。
                  </span>
                </div>
                <div
                  class="ant-space ant-space-horizontal ant-space-align-center performance-improvement-section"
                >
                  <div
                    class="ant-space-item"
                    style="margin-right: 8px;"
                  >
                    <div
                      class="ant-space ant-space-vertical"
                    >
                      <div
                        class="ant-space-item"
                        style="margin-bottom: 8px;"
                      >
                        <div
                          class="ant-space ant-space-vertical"
                        >
                          <div
                            class="ant-space-item"
                            style="margin-bottom: 8px;"
                          >
                            <div
                              class="css-19v9tj3"
                            >
                              <div
                                class="probability-number"
                                style="background-clip: text;"
                              >
                                84.6
                                <span>
                                  %
                                </span>
                              </div>
                              <svg
                                height="30"
                                version="1.1"
                                width="30"
                                xmlns="http://www.w3.org/2000/svg"
                              >
                                <path
                                  d="M0 0 C3.61477175 1.49801352 5.68620463 3.57537417 8.25 6.5 C8.95640625 7.2940625 9.6628125 8.088125 10.390625 8.90625 C12 11 12 11 12 13 C10.8553125 13.0309375 10.8553125 13.0309375 9.6875 13.0625 C8.800625 13.371875 7.91375 13.68125 7 14 C5.95281202 16.31254012 4.95653635 18.6485148 4 21 C0.03489054 25.30497599 -3.40593489 25.62074135 -9 26 C-9 21.52386206 -8.51156813 21.31526994 -6 18 C-5.28566879 15.35065178 -5.28566879 15.35065178 -5 13 C-6.65 13 -8.3 13 -10 13 C-8.56501627 9.79111679 -6.78256013 7.42193016 -4.4375 4.8125 C-3.81746094 4.11769531 -3.19742187 3.42289062 -2.55859375 2.70703125 C-1.72141231 1.79011824 -0.8779528 0.8779528 0 0 Z "
                                  fill="#FCAF19"
                                  transform="translate(14,2)"
                                />
                              </svg>
                            </div>
                          </div>
                          <div
                            class="ant-space-item"
                          >
                            <span
                              class="ant-typography ant-typography-secondary"
                            >
                              性能提升
                            </span>
                          </div>
                        </div>
                      </div>
                      <div
                        class="ant-space-item"
                        style="margin-bottom: 8px;"
                      >
                        <h5
                          class="ant-typography"
                        >
                          详情
                        </h5>
                      </div>
                      <div
                        class="ant-space-item"
                      >
                        <div
                          aria-label="与原始 SQL 相比，改写后的 SQL 移除了对 student_classes 表的不必要的 LEFT JOIN，简化了查询结构。这减少了对 student_classes 表的索引查找操作，降低了查询的复杂度和处理开销，从而提高了查询性能。此外，简化后的 SQL 更易于理解和维护。"
                          class="ant-typography ant-typography-ellipsis"
                        >
                          与原始 SQL 相比，改写后的 SQL 移除了对 student_classes 表的不必要的 LEFT JOIN，简化了查询结构。这减少了对 student_classes 表的索引查找操作，降低了查询的复杂度和处理开销，从而提高了查询性能。此外，简化后的 SQL 更易于理解和维护。
                          <span
                            aria-hidden="true"
                            style="position: fixed; display: block; left: 0px; top: 0px; z-index: -9999; visibility: hidden; pointer-events: none; font-size: 0px; word-break: keep-all; white-space: nowrap;"
                          >
                            lg
                          </span>
                          <span
                            aria-hidden="true"
                            style="position: fixed; display: block; left: 0px; top: 0px; z-index: -9999; visibility: hidden; pointer-events: none; font-size: 0px; width: 0px; white-space: normal; margin: 0px; padding: 0px;"
                          >
                            <span
                              aria-hidden="true"
                            >
                              ...
                            </span>
                            <a
                              aria-label="展开"
                              class="ant-typography-expand"
                            >
                              展开
                            </a>
                          </span>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div
                    class="ant-space-item"
                  >
                    <div
                      class="css-1anu5"
                    >
                      <div
                        class="chart-wrapper css-1hgbe7b"
                      >
                        <div
                          class="chart-box"
                        >
                          <div
                            data-custom-params="{"data":[{"name":"执行计划","score":1,"type":"原文"},{"name":"执行计划","score":2,"type":"最终优化后"},{"name":"扫描预估","score":1,"type":"原文"},{"name":"扫描预估","score":1,"type":"最终优化后"},{"name":"索引使用","score":1,"type":"原文"},{"name":"索引使用","score":2,"type":"最终优化后"},{"name":"SQL复杂度","score":1,"type":"原文"},{"name":"SQL复杂度","score":5,"type":"最终优化后"},{"name":"网络传输","score":4,"type":"原文"},{"name":"网络传输","score":4,"type":"最终优化后"},{"name":"其他","score":4,"type":"原文"},{"name":"其他","score":4,"type":"最终优化后"}],"xField":"name","yField":"score","seriesField":"type","meta":{"score":{"range":[0,1.1]}},"xAxis":{"line":null,"tickLine":null,"grid":{"line":{"style":{"lineWidth":1,"lineDash":null}}},"label":{"labelLineWidth":0,"labelDirection":"negative"}},"yAxis":{"line":null,"label":null},"area":{"style":{"fillOpacity":0.15}},"tooltip":{},"legend":false,"smooth":true}"
                            data-testid="mock-antd-plots"
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  class="sql-comparison"
                >
                  <h5
                    class="ant-typography"
                  >
                    比较 SQL 优化前后的差异
                  </h5>
                  <div
                    class="css-15dvtve"
                  >
                    <div
                      class="diff-header"
                    >
                      <div
                        class="diff-label original"
                      >
                        优化前
                        <button
                          class="ant-btn ant-btn-default ant-btn-sm basic-button-wrapper css-geipcv"
                          title="复制"
                          type="button"
                        >
                          <span
                            class="ant-btn-icon"
                          >
                            <svg
                              height="16"
                              viewBox="0 0 16 16"
                              width="16"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M4.667 4.667V2a.667.667 0 0 1 .666-.667H14a.667.667 0 0 1 .667.667v8.667a.667.667 0 0 1-.667.667h-2.667v2.662c0 .37-.3.67-.671.67H2.005a.67.67 0 0 1-.672-.67l.002-8.658c0-.37.3-.671.672-.671zm1.333 0h4.662c.37 0 .671.3.671.671V10h2V2.667H6z"
                                fill="#C3C6CD"
                              />
                            </svg>
                          </span>
                        </button>
                      </div>
                      <div
                        class="diff-label optimized"
                      >
                        优化后
                        <button
                          class="ant-btn ant-btn-default ant-btn-sm basic-button-wrapper css-geipcv"
                          title="复制"
                          type="button"
                        >
                          <span
                            class="ant-btn-icon"
                          >
                            <svg
                              height="16"
                              viewBox="0 0 16 16"
                              width="16"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                d="M4.667 4.667V2a.667.667 0 0 1 .666-.667H14a.667.667 0 0 1 .667.667v8.667a.667.667 0 0 1-.667.667h-2.667v2.662c0 .37-.3.67-.671.67H2.005a.67.67 0 0 1-.672-.67l.002-8.658c0-.37.3-.671.672-.671zm1.333 0h4.662c.37 0 .671.3.671.671V10h2V2.667H6z"
                                fill="#C3C6CD"
                              />
                            </svg>
                          </span>
                        </button>
                      </div>
                    </div>
                    <div
                      class="diff-content"
                    >
                      <div
                        class="actiontech-diff-sql-view-only-editor-renderer-wrapper custom-diff-monaco-editor css-1esok7i"
                      >
                        <input
                          height="256"
                          language="sql"
                          modified="SELECT 
    s.student_id
FROM 
    students s
WHERE
    s.student_id IN (
        SELECT student_id FROM enrollments
    )
    AND DATE(s.create_at) >= '2024-01-01'"
                          options="{"automaticLayout":true,"minimap":{"enabled":false},"fontFamily":"SF Mono","fontSize":14,"fontWeight":"400","lineNumbersMinChars":2,"suggestFontSize":14,"scrollBeyondLastLine":false,"lineHeight":24,"letterSpacing":0.8,"overviewRulerBorder":false,"wordWrap":"on","wrappingStrategy":"advanced","wrappingIndent":"indent","scrollbar":{"vertical":"visible","horizontal":"visible","useShadows":false,"verticalScrollbarSize":12,"horizontalScrollbarSize":12,"alwaysConsumeMouseWheel":false},"folding":false,"lineNumbers":"on","glyphMargin":false,"lineDecorationsWidth":50,"renderValidationDecorations":"on","guides":{"indentation":true,"highlightActiveIndentation":true},"renderOverviewRuler":false,"readOnly":true}"
                          original=""
                          theme="editorCustomTheme"
                          value=""
                        />
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div
            aria-hidden="true"
            style="width: 0px; height: 0px; overflow: hidden; outline: none;"
            tabindex="0"
          />
        </div>
      </div>
    </div>
  </div>
</body>
`;
